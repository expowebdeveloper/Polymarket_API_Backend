type User @entity(immutable: false) {
  id: ID!
  username: String!
  totalTrades: Int!
  totalVolume: BigDecimal!
  createdAt: BigInt!
  trades: [Trade!]! @derivedFrom(field: "user")
}

type Trade @entity(immutable: true) {
  id: ID!
  user: User!
  amount: BigDecimal!
  timestamp: BigInt!
}

type OrderFilled @entity(immutable: true) {
  id: ID!
  maker: Bytes!
  taker: Bytes!
  makerAmount: BigInt!
  takerAmount: BigInt!
  timestamp: BigInt!
}